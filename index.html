<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Derive X Etherfi Event</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Fade-in animation */
    .fade-in {
      animation: fadeIn 1s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="bg-gray-900 text-gray-100 font-sans">

  <!-- Header -->
  <header class="bg-gray-800 text-center py-8 shadow-lg">
    <h1 class="text-4xl font-extrabold text-blue-400">Derive X Etherfi Event</h1>
    <p class="text-gray-400 mt-2">Calculate potential DRV bonuses</p>
  </header>

  <!-- Main Container -->
  <div class="container mx-auto mt-10 px-6 py-8 bg-gray-800 rounded-lg shadow-lg max-w-lg">
    <!-- Input Fields -->
    <div class="space-y-6">
      <div>
        <label for="airdropPercentage" class="block mb-2 font-semibold text-blue-300">
          Total Airdrop Allocation (%) 
          <span class="block text-sm text-gray-400">The community average is around 7.5% historically</span>
        </label>
        <input type="number" id="airdropPercentage" placeholder="Enter percentage (e.g., 7.5)" 
          class="w-full p-3 rounded-md bg-gray-700 text-gray-100 focus:ring-2 focus:ring-blue-400 focus:outline-none">
      </div>
      <div>
        <label for="fdv" class="block mb-2 font-semibold text-blue-300">
          Speculated FDV (Millions $) 
        </label>
        <input type="number" id="fdv" max="100" placeholder="Enter FDV in millions (e.g., 135)" 
          class="w-full p-3 rounded-md bg-gray-700 text-gray-100 focus:ring-2 focus:ring-blue-400 focus:outline-none">
      </div>
      <div>
        <label for="participants" class="block mb-2 font-semibold text-blue-300">
          Number of Participants
          <span class="block text-sm text-gray-400">This event is limited to 1000 users</span>
        </label>
        <input type="number" id="participants" max="1000" placeholder="Enter number (e.g., 1000)"
          class="w-full p-3 rounded-md bg-gray-700 text-gray-100 focus:ring-2 focus:ring-blue-400 focus:outline-none">
      </div>
      <button onclick="calculate()" 
        class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-md transition">
        Calculate
      </button>
    </div>

    <!-- Results -->
    <div id="results" class="fade-in mt-8 hidden bg-gray-700 p-6 rounded-lg shadow-lg">
      <h3 class="text-2xl font-bold text-blue-300 mb-4">Results</h3>
      <div id="resultsContent"></div>
      <div id="highlightedValue" class="hidden mt-6 p-4 rounded-lg bg-blue-500 text-white text-center shadow-lg">
        <p class="text-lg">Estimated maximum value per valid participant upon successfully completing the prerequisites:</p>
        <p id="individualValue" class="text-4xl font-extrabold"></p>
      </div>
      <div id="disclaimer" class="mt-6 text-gray-400 italic">
        <p>These are all hypothetical scenarios and do not equate to guaranteed rewards. This website is associated with Etherfi or Derive.</p>
      </div>
    </div>

    <!-- Sensitivity Table -->
    <div id="sensitivityTable" class="fade-in mt-8 hidden bg-gray-700 p-6 rounded-lg shadow-lg">
      <h3 class="text-2xl font-bold text-blue-300 mb-4">FDV Range (Â± 10%)</h3>
      <div id="sensitivityContent"></div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="mt-10 text-center text-gray-500">
    Built by <a href="https://x.com/Dustybeerbong" target="_blank" class="text-blue-400 hover:underline">Sadpepe.exe</a>
  </footer>

  <!-- Script -->
  <script>
    function calculate() {
      const totalSupply = 1000000000; // Total supply of tokens
      const airdropPercentage = parseFloat(document.getElementById("airdropPercentage").value);
      const fdv = parseFloat(document.getElementById("fdv").value) * 1000000; // Convert FDV to full value
      const participants = parseInt(document.getElementById("participants").value);

      const resultsDiv = document.getElementById("results");
      const resultsContent = document.getElementById("resultsContent");
      const highlightedValueDiv = document.getElementById("highlightedValue");
      const individualValueText = document.getElementById("individualValue");
      const sensitivityDiv = document.getElementById("sensitivityTable");
      const sensitivityContent = document.getElementById("sensitivityContent");

      // Clear previous results
      resultsContent.innerHTML = "";
      sensitivityContent.innerHTML = "";
      highlightedValueDiv.classList.add("hidden");
      resultsDiv.classList.add("hidden");
      sensitivityDiv.classList.add("hidden");

      // Validation
      if (!airdropPercentage || !fdv || !participants || airdropPercentage <= 0 || fdv <= 0 || participants <= 0) {
        resultsContent.innerHTML = "<p class='text-red-400'>Please enter valid positive numbers for all fields.</p>";
        resultsDiv.classList.remove("hidden");
        return;
      }

      if (participants > 1000) {
        resultsContent.innerHTML = "<p class='text-red-400'>Number of participants cannot exceed 1000.</p>";
        resultsDiv.classList.remove("hidden");
        return;
      }

      // Calculations
      const totalAirdropTokens = (totalSupply * airdropPercentage) / 100;
      const allocationTokens = totalAirdropTokens * 0.025;
      const tokenPrice = fdv / totalSupply;
      const maxTotalValue = allocationTokens * tokenPrice;
      const maxIndividualValue = maxTotalValue / participants;

      // Display Results
      resultsContent.innerHTML = `
        <p><strong>Total Airdrop Tokens:</strong> ${totalAirdropTokens.toLocaleString()}</p>
        <p><strong>Tokens Allocated to 2.5%:</strong> ${allocationTokens.toLocaleString()}</p>
        <p><strong>Max Total Value:</strong> $${maxTotalValue.toLocaleString(undefined, {minimumFractionDigits: 2})}</p>
      `;

      // Highlight Max Individual Value
      individualValueText.textContent = `$${maxIndividualValue.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
      highlightedValueDiv.classList.remove("hidden");

      resultsDiv.classList.remove("hidden");

      // Sensitivity Table
const fdvValues = [fdv * 0.9, fdv, fdv * 1.1];
sensitivityContent.innerHTML = `
  <table class="w-full">
    <thead>
      <tr>
        <th class="text-left border-b p-2">FDV ($)</th>
        <th class="text-left border-b p-2">Max Individual Value ($)</th>
      </tr>
    </thead>
    <tbody>
      ${fdvValues.map(value => {
        const price = value / totalSupply;
        const totalValue = allocationTokens * price;
        const individualValue = totalValue / participants;
        return `
          <tr>
            <td class="p-2">${(value / 1000000).toLocaleString()}M</td>
            <td class="p-2">$${individualValue.toLocaleString(undefined, {minimumFractionDigits: 2})}</td>
          </tr>
        `;
      }).join('')}
    </tbody>
  </table>
`;
sensitivityDiv.classList.remove("hidden");
    }
  </script>
</body>
</html>
